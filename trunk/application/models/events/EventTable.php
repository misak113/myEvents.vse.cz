<?phpnamespace app\models\events;use My\Db\Table;/** * Trida reprezentujici seznam akci * */class EventTable extends Table {	/**	 * Nazev databazove tabulky	 *	 * @var string	 */	protected $_name = 'event';	/**	 * Nazev tridy predstavujici jeden zaznam	 *	 * @var string	 */	protected $_rowClass = 'app\models\events\Event';	/**	 * @return array	 */	public function getEvents() {		return $this->fetchAll();	}                /**         * Returns events in array from current week         * array[one day from week][]         * @return array Events from current week         */        public function getEventsThisWeek() {            $monday = date('Y-m-d 00:00:00', strtotime('monday this week'));            $sunday = date('Y-m-d 23:59:59', strtotime('sunday this week'));                        $where = $this->select()                ->where('timestart >= ?',$monday)                ->where('timestart <= ?',$sunday);                        $eventsRowSet = $this->fetchAll($where);            $eventsArray = array();                        foreach ($eventsRowSet as $event) {                $date = date('d.m.Y', strtotime($event->timestart));                $eventsArray[$date][] = $event;            }                        return $eventsArray;        }		}