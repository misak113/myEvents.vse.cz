<?phpnamespace app\models\events;use My\Db\Table;/** * Trida reprezentujici seznam akci * */class EventTable extends Table {	/**	 * Nazev databazove tabulky	 *	 * @var string	 */	protected $_name = 'event';	/**	 * Nazev tridy predstavujici jeden zaznam	 *	 * @var string	 */	protected $_rowClass = 'app\models\events\Event';                /**         * @param int Id of event         * @return Row         */        public function getById($id) {            return $this->fetchRow(array('event_id = ?' => $id));         }        	/**	 * @return array	 */	public function getEvents() {		return $this->fetchAll();	}                /**         * Returns events in array from current week         * array[one day from week][]         * @return array Events from current week         */        public function getEventsThisWeek() {            $day = date('w', strtotime('now'));                         $monday = date('Y-m-d 00:00:00', strtotime('last monday'));            $sunday = date('Y-m-d 23:59:59', strtotime('next sunday'));                        if ($day == 0)                 $sunday = date('Y-m-d 23:59:59', strtotime('today'));            if ($day == 1)                $monday = date('Y-m-d 00:00:00', strtotime('today'));            $where = $this->select()                ->where('timestart >= ?',$monday)                ->where('timestart <= ?',$sunday);            $eventsRowSet = $this->fetchAll($where);            $eventsArray = array();                        foreach ($eventsRowSet as $event) {                $date = date('d.m.Y', strtotime($event->timestart));                $eventsArray[$date][] = $event;            }                        return $eventsArray;        }		}